<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For You ‚ù§Ô∏è</title>
    <style>
        /* --- RESET & BASICS --- */
        :root {
            --bg-color: #FFB3C1;
            --card-color: #FFF0F3;
            --text-color: #590D22;
            --accent-color: #FF4D6D;
            --accent-hover: #d90429;
            --secondary-color: #FF8FA3;
            --shadow-color: rgba(89, 13, 34, 0.15);
        }

        * {
            box-sizing: border-box; /* Critical for responsive padding */
            -webkit-tap-highlight-color: transparent; /* Removes blue highlight on mobile taps */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#ffc2ce 2px, transparent 2px);
            background-size: 20px 20px;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 15px; /* Reduced padding for mobile */
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* --- MAIN CONTAINER --- */
        .main-container {
            background: var(--card-color);
            padding: clamp(1.5rem, 5vw, 2.5rem); /* Responsive padding */
            border-radius: 25px;
            box-shadow: 0 10px 30px var(--shadow-color);
            text-align: center;
            width: 100%;
            max-width: 500px;
            border: 4px solid #fff;
            position: relative;
            transition: height 0.3s ease;
        }

        /* --- TYPOGRAPHY --- */
        h1 {
            color: var(--accent-color);
            margin-bottom: 0.8rem;
            font-weight: 800;
            letter-spacing: -0.5px;
            font-size: clamp(1.8rem, 5vw, 2.2rem); /* Scales with screen */
            line-height: 1.2;
        }

        h2, h3 {
            color: var(--accent-color);
            font-weight: 700;
        }

        p {
            color: var(--text-color);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-weight: 500;
            font-size: 1rem; /* Minimum 16px for readability */
        }

        /* --- BUTTONS (Mobile Optimized) --- */
        button {
            border: none;
            padding: 14px 28px;
            min-height: 48px; /* Touch friendly target */
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 8px 4px; /* More breathing room */
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 10px rgba(255, 77, 109, 0.3);
            touch-action: manipulation;
            width: auto;
            max-width: 100%;
        }

        button:active {
            transform: scale(0.95);
        }

        .btn-yes, .btn-submit {
            background-color: var(--accent-color);
            color: white;
            width: 100%; /* Full width on mobile looks better */
            max-width: 200px; /* But capped */
        }

        .btn-yes:hover, .btn-submit:hover {
            background-color: var(--accent-hover);
        }

        .btn-no {
            background-color: white;
            color: var(--text-color);
            border: 2px solid #eee;
            box-shadow: none;
            width: 100%;
            max-width: 200px;
        }

        .buttons {
            display: flex;
            flex-direction: column; /* Stack buttons on mobile */
            align-items: center;
            gap: 10px;
        }
        
        @media (min-width: 400px) {
            .buttons { flex-direction: row; justify-content: center; }
        }

        .btn-back {
            background: white;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            padding: 8px 24px;
            font-size: 0.9rem;
            margin-bottom: 20px;
            display: inline-block;
            box-shadow: none;
        }

        /* --- INPUTS --- */
        input[type="text"] {
            width: 100%;
            max-width: 300px;
            padding: 14px;
            margin-bottom: 15px;
            background-color: white;
            color: var(--text-color);
            border: 2px solid var(--secondary-color);
            border-radius: 15px;
            font-size: 16px; /* Prevents iOS zoom on focus */
            outline: none;
            text-align: center;
            font-weight: 600;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus {
            border-color: var(--accent-color);
        }

        /* --- GIFT BOX GRID --- */
        .gift-grid {
            display: grid;
            grid-template-columns: 1fr; /* Stack vertically on small mobile */
            gap: 15px;
            margin-top: 20px;
        }

        @media (min-width: 400px) {
            .gift-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 columns on larger phones/desktop */
            }
        }

        .gift-box {
            background-color: white;
            border: 2px solid var(--secondary-color);
            border-radius: 20px;
            padding: 20px 10px;
            cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 110px;
        }

        .gift-box:active {
            transform: scale(0.98);
        }

        .gift-icon { font-size: 2.5rem; margin-bottom: 10px; }
        .gift-box h3 { font-size: 1rem; margin: 0; color: var(--text-color); }

        /* --- LETTER STYLES --- */
        .letter-paper {
            background-color: #fff;
            color: var(--text-color);
            padding: 25px 20px;
            border-radius: 5px;
            text-align: left;
            font-family: 'Georgia', serif;
            line-height: 1.7;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid #eee;
            position: relative;
            font-size: 0.95rem;
        }
        
        .letter-paper::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 20px;
            background-color: var(--secondary-color);
            opacity: 0.5;
        }

        .signature {
            margin-top: 25px;
            font-weight: bold;
            font-style: italic;
            text-align: right;
            color: var(--accent-color);
        }

        /* --- MUSIC GRID --- */
        .song-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
            margin-top: 15px;
        }

        .song-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .song-img {
            width: 100%;
            aspect-ratio: 1 / 1; /* Ensures perfect square */
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 8px;
            border: 3px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .song-link {
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: bold;
            padding: 5px;
            display: block; /* Larger touch target */
        }

        /* --- ANIMATIONS & UTILITIES --- */
        .hidden { display: none !important; }
        .error { color: #d90429; font-weight: bold; font-size: 0.9rem; margin-top: 10px; }
        .hint { color: #888; font-size: 0.85rem; font-style: italic; margin-bottom: 15px; }

        .progress-box { margin-bottom: 20px; }
        .progress-bg { background-color: #ffe6e6; height: 10px; border-radius: 10px; width: 100%; margin-bottom: 5px; overflow: hidden;}
        .progress-fill { background-color: var(--accent-color); height: 100%; width: 0%; border-radius: 10px; transition: width 0.3s ease;}
        #progress-text { margin: 0; font-size: 0.8rem; color: #888; }

        /* Fade In Animation */
        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* --- SAD MODE --- */
        body.sad-mode { background-color: #2b2b2b; background-image: none; }
        .main-container.sad-mode { background-color: #383838; border-color: #444; box-shadow: none; }
        .sad-mode h1, .sad-mode p { color: #ccc !important; }
        .sad-mode .btn-yes { background-color: #555; animation: pulse 1s infinite; }
        .sad-mode .btn-no { background-color: #333; color: #888; border: none;}
        
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        
        /* Audio Control */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-size: 24px;
            cursor: pointer;
            z-index: 100;
            border: 2px solid var(--accent-color);
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="" type="audio/mpeg">
    </audio>
    
    <div class="music-control hidden" id="music-btn" onclick="toggleMusic()">üîá</div>

    <div class="main-container fade-in">
        
        <section id="login-section" class="centered-section">
            <h1>üîí Login Required</h1>
            <p>Security Question: When was our first date? (DD.MM.YYYY)</p>
            
            <input type="text" id="password-input" placeholder="e.g. 09.11.2002" inputmode="numeric">
            <button onclick="checkPassword()">Unlock My Heart</button>
            <p id="login-error" class="error hidden">Incorrect! Figure it out or forget the gifts üò§</p>
        </section>

        <div id="proposal-section" class="hidden">
            <h1 id="proposal-text">Will you be my Valentine? üåπ</h1>
            <p id="proposal-subtext">I have prepared a few surprises for you...</p>
            <div class="buttons">
                <button class="btn-yes" onclick="handleYes()">YES!</button>
                <button class="btn-no" onclick="handleNo()">No...</button>
            </div>
        </div>

        <div id="gift-hub-section" class="hidden">
            <h1>Choose a Gift üéÅ</h1>
            <p>Open them in any order you like.</p>
            
            <div class="gift-grid">
                <div class="gift-box" onclick="openSection('quiz')">
                    <div class="gift-icon">‚ùì</div>
                    <h3>The Challenge</h3>
                </div>

                <div class="gift-box" onclick="openSection('music')">
                    <div class="gift-icon">üé∂</div>
                    <h3>The Vibe</h3>
                </div>

                <div class="gift-box" onclick="openSection('letter')">
                    <div class="gift-icon">üíå</div>
                    <h3>The Truth</h3>
                </div>
            </div>
        </div>

        <div id="quiz-section" class="hidden">
            <button class="btn-back" onclick="backToHub()">‚Üê Back</button>
            
            <div class="progress-box">
                <div class="progress-bg">
                    <div id="progress-bar" class="progress-fill"></div>
                </div>
                <p id="progress-text">Question 1</p>
            </div>

            <h2 id="question-text">Question goes here...</h2>
            <p id="hint-text" class="hint"></p>
            
            <input type="text" id="answer-input" placeholder="Type answer...">
            <button class="btn-submit" onclick="checkAnswer()">Submit</button>
            <p id="error-message" class="error hidden">Wrong answer! Try again.</p>
        </div>

        <div id="success-section" class="hidden">
            <h1>Correct! üéâ</h1>
            <p id="success-comment">You know me so well.</p>
            <button class="btn-yes" onclick="loadNextQuestion()">Next Question ‚û°Ô∏è</button>
        </div>

        <div id="quiz-complete-section" class="hidden">
            <h1>You Won! üèÜ</h1>
            <p>You answered everything correctly. That's like my babygirl.</p>
            <button class="btn-yes" onclick="backToHub()">Back to Gifts üéÅ</button>
        </div>

        <div id="music-section" class="hidden">
            <button class="btn-back" onclick="backToHub()">‚Üê Back</button>
            <h1>Our Playlist üé∂</h1>
            <p>Songs that remind me of you.</p>
            
            <div class="song-grid">
                <div class="song-item">
                    <img src="https://raw.githubusercontent.com/null-repo/misc/main/img1.jpeg" alt="Song 1" class="song-img">
                    <a href="https://www.youtube.com/watch?v=y7MW7d8fb1Y&list=RDy7MW7d8fb1Y&start_radio=1" target="_blank" class="song-link">Maiyya Mainu</a>
                </div>

                <div class="song-item">
                    <img src="https://raw.githubusercontent.com/null-repo/misc/main/img2.jpeg" alt="Song 2" class="song-img">
                    <a href="https://www.youtube.com/watch?v=hHuG7FIKgtc&list=RDhHuG7FIKgtc&start_radio=1" target="_blank" class="song-link">Ishq</a>
                </div>

                <div class="song-item">
                    <img src="https://raw.githubusercontent.com/null-repo/misc/main/img3.jpeg" alt="Song 3" class="song-img">
                    <a href="https://www.youtube.com/watch?v=LV_wiOhO40Q&list=RDLV_wiOhO40Q&start_radio=1" target="_blank" class="song-link">Dooron Dooron</a>
                </div>

                <div class="song-item">
                    <img src="https://raw.githubusercontent.com/null-repo/misc/main/img4.jpeg" alt="Song 4" class="song-img">
                    <a href="https://www.youtube.com/watch?v=XvUSsh3gdO4&list=RDXvUSsh3gdO4&start_radio=1" target="_blank" class="song-link">Mere bina</a>
                </div>
            </div> 
        </div>

        <div id="letter-section" class="hidden">
            <button class="btn-back" onclick="backToHub()">‚Üê Back</button>
            <h1>My Valentine ‚ù§Ô∏è</h1>
            
            <div class="letter-paper">
                <p><strong>Dear Love,</strong></p>
                <p>
                    I wanted to create something special for you because words sometimes fall short.
                    I don't know our future; I might not always give you the kind of love you want, and I might not be the one for you, but that can never invalidate my love for you.
                    Thank you for being my partner, my best friend, and my safe place (you will always be).
                </p>
                <p>
                    Every moment with you is my favorite memory, even the silly fights that you find annoying. I love you more than code can express.
                </p>
                <p class="signature">- Always Yours, Sanchita</p>
            </div>
        </div>

    </div>

    <script>
        /* ------------------------------------------------
           CONFIG: QUIZ QUESTIONS
           ------------------------------------------------ */
        const questions = [
            {
                question: "Do you want me to leave?",
                answer: "No",
                hint: "I hope the answer is no",
                comment: "Okay fine..let's not discuss this rn."
            },
            {
                question: "What is my favorite movie?",
                answer: "yjhd",
                hint: "Easy one",
                comment: "Of course my bunny knows."
            },
            {
                question: "What is my current favorite song?",
                answer: "darkhaast",
                hint: "Let's see if you actually watch my stories.",
                comment: "Impressive!"
            },
            {
                question: "What color was I wearing when you first saw me?",
                answer: "pink",
                hint: "Hint: I was such a pookie back then.",
                comment: "Well you were in a white shirt, we would look cute together."
            },
            {
                question: "Where is our after-fight spot?",
                answer: "burgerking", 
                hint: "Although we fight everywhere, but we decided this once.",
                comment: "You better say sorry at least ten times with AFFIRMATIONS after every fight."
            }
        ];

        /* ------------------------------------------------
           DOM ELEMENTS
           ------------------------------------------------ */
        const loginSection = document.getElementById('login-section');
        const passwordInput = document.getElementById('password-input');
        const loginError = document.getElementById('login-error');

        const proposalSection = document.getElementById('proposal-section');
        const giftHubSection = document.getElementById('gift-hub-section');

        const quizSection = document.getElementById('quiz-section');
        const musicSection = document.getElementById('music-section');
        const letterSection = document.getElementById('letter-section'); 

        const successSection = document.getElementById('success-section');
        const quizCompleteSection = document.getElementById('quiz-complete-section');

        const questionText = document.getElementById('question-text');
        const hintText = document.getElementById('hint-text');
        const answerInput = document.getElementById('answer-input');
        const errorMsg = document.getElementById('error-message');
        const successComment = document.getElementById('success-comment');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        
        const musicBtn = document.getElementById('music-btn');
        const audio = document.getElementById('bg-music');

        let currentQuestionIndex = 0;

        /* ------------------------------------------------
           HELPER: ANIMATED SECTION SWITCHING
           ------------------------------------------------ */
        function switchSection(hideElement, showElement) {
            hideElement.classList.add('hidden');
            showElement.classList.remove('hidden');
            
            // Trigger animation
            showElement.classList.remove('fade-in');
            void showElement.offsetWidth; // Trigger reflow
            showElement.classList.add('fade-in');
        }

        /* ------------------------------------------------
           AUDIO LOGIC (Fixing Mobile Autoplay)
           ------------------------------------------------ */
        function attemptPlayAudio() {
            // Only plays if audio src is set. 
            // Note: You didn't provide an MP3 file, so this is setup for when you do.
            if(audio.src && audio.src !== window.location.href) {
                audio.play().then(() => {
                    musicBtn.classList.remove('hidden');
                    musicBtn.innerText = "üîä";
                }).catch(e => console.log("Audio waiting for interaction"));
            }
        }

        function toggleMusic() {
            if (audio.paused) {
                audio.play();
                musicBtn.innerText = "üîä";
            } else {
                audio.pause();
                musicBtn.innerText = "üîá";
            }
        }

        /* ------------------------------------------------
           0. LOGIN LOGIC
           ------------------------------------------------ */
        function checkPassword() {
            const correctDate = "12.09.2024"; 
            const userInput = passwordInput.value.trim();

            if (userInput === correctDate) {
                switchSection(loginSection, proposalSection);
                attemptPlayAudio(); // User interaction here allows audio to start
            } else {
                loginError.classList.remove('hidden');
                passwordInput.style.border = "2px solid #d90429";
                
                // Vibrate on mobile for wrong password
                if(navigator.vibrate) navigator.vibrate(200);

                setTimeout(() => {
                    passwordInput.style.border = "2px solid var(--secondary-color)";
                }, 1000);
            }
        }

        /* ------------------------------------------------
           1. PROPOSAL LOGIC
           ------------------------------------------------ */
        function handleNo() {
            document.body.classList.add('sad-mode');
            document.querySelector('.main-container').classList.add('sad-mode');
            
            const title = document.getElementById('proposal-text');
            const sub = document.getElementById('proposal-subtext');
            
            title.innerText = "But... I love you... üò¢";
            sub.innerText = "Please don't break my heart. Try again?";
        }

        function handleYes() {
            document.body.classList.remove('sad-mode');
            document.querySelector('.main-container').classList.remove('sad-mode');
            switchSection(proposalSection, giftHubSection);
            attemptPlayAudio(); // Another chance to start audio
        }

        /* ------------------------------------------------
           2. NAVIGATION LOGIC
           ------------------------------------------------ */
        function openSection(sectionName) {
            giftHubSection.classList.add('hidden');
            
            if (sectionName === 'quiz') {
                if (currentQuestionIndex >= questions.length) {
                    currentQuestionIndex = 0;
                }
                switchSection(giftHubSection, quizSection);
                loadQuestion(); 
            } else if (sectionName === 'music') {
                switchSection(giftHubSection, musicSection);
            } else if (sectionName === 'letter') {
                switchSection(giftHubSection, letterSection);
            }
        }

        function backToHub() {
            quizSection.classList.add('hidden');
            musicSection.classList.add('hidden');
            letterSection.classList.add('hidden');
            quizCompleteSection.classList.add('hidden');
            successSection.classList.add('hidden');
            
            switchSection(document.querySelector('.hidden'), giftHubSection);
        }

        /* ------------------------------------------------
           3. QUIZ LOGIC
           ------------------------------------------------ */
        function loadQuestion() {
            const q = questions[currentQuestionIndex];
            
            questionText.innerText = q.question;
            hintText.innerText = q.hint;
            answerInput.value = "";
            errorMsg.classList.add('hidden');
            
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.innerText = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
        }

        function checkAnswer() {
            const userAnswer = answerInput.value.trim().toLowerCase().replace(/\s/g, '');
            const correctAnswer = questions[currentQuestionIndex].answer.toLowerCase().replace(/\s/g, '');

            if (userAnswer === correctAnswer) {
                switchSection(quizSection, successSection);
                successComment.innerText = questions[currentQuestionIndex].comment;
            } else {
                errorMsg.classList.remove('hidden');
                if(navigator.vibrate) navigator.vibrate(200);
            }
        }

        function loadNextQuestion() {
            successSection.classList.add('hidden');
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                switchSection(successSection, quizSection);
                loadQuestion();
            } else {
                switchSection(successSection, quizCompleteSection);
            }
        }
    </script>
</body>
</html>
